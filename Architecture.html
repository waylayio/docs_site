<html lang="en">

<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Waylay.io Documentation</title>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/jquery-ui.css" rel="stylesheet">
    <link href="css/jquery.tocify.css" rel="stylesheet">
    <link href="css/prettify.css" type="text/css" rel="stylesheet" />
    <link href="css/freelancer.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="http://www.waylay.io/favicon.png">
    <link rel="stylesheet" href="css/simplemenu.css">
    </head>

    <body id="page-top" class="index">
        
        
    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top" style="padding: 0;">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
<!--                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>-->
                <a class="navbar-brand" href="http://docs.waylay.io/">docs.waylay.io</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- THIS IS THE MENU --> 

        <div class="mobilenav"> 
  <li><a href="Waylay-REST-API-documentation.html">REST API</a></li> 
  <li><a href="Plugin-API.html">Sensors & Actuators</a></li> 
  <li><a href="Submitting-and-fetching-data.html">Broker & Storage</a></li> 
  <li><a href="Architecture.html">Architecture</a></li> 
  <li><a href="Waylay-starters-guide.html">Starter's Guide</a></li> 

</div> 

        <!-- THIS IS THE ICON --> 

        <a href="javascript:void(0)" class="icon"> 
           <div class="hamburger"> 
             <div class="menui top-menu"></div> 
             <div class="menui mid-menu"></div> 
             <div class="menui bottom-menu"></div> 
           </div> 
        </a>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>
        
        
        
        
        
        
        <div class="container-fluid">
        <div class="row-fluid" style="margin-top: 60px;">
        <div class="col-sm-3" style=" padding-left: 0; margin-left: -15px;">
        <div id="toc" class="tocify"></div>
        
        </div>
            <div class="col-sm-9"><h1 id="architecture">Architecture</h1>
<p>Waylay architecture is composed of the following components:</p>
<ul>
<li>Cloud Broker (MQTT, WebSockets and REST)</li>
<li>Cloud Persisted Cache</li>
<li>Time series Database</li>
<li>Resource Metadata Database</li>
<li>Inference Engine with advanced stream based correlation and formula processing</li>
<li>REST server</li>
<li>CEP functional nodes</li>
<li>Waylay IDE (web based)</li>
<li>SDK and Templates (for sensors, actuators, rules)</li>
<li>Nodejs executor nodes</li>
</ul>
<div class="figure">
<img src="https://raw.githubusercontent.com/waylayio/documentation/master/images/architecture.png" class="img-responsive"  alt="architecture" />
<p class="caption">architecture</p>
</div>
<h2 id="broker">Broker</h2>
<p>Broker lets you store and distribute messages. This can be performed over different protocols: HTTP, WebSockets or MQTT. By default the data is publicly available. It can be read by anybody. This is mainly to ease the testing. To keep your data private, you need to use waylay API key and secret. This will also enable both cloud storage and forwarding of your data towards waylay Inference Engine. As soon as data is send to the Broker, data is stored in two different databases, time series database and document database (Cloud Persisted Cache). In Cloud Persisted Cache, data is stored without any pre-processing, with original JSON object as it was received. When JSON object (or array of JSON objects) comes to the Broker, Broker also tries to save data in the time series database. In order to achieve that, broker will inspect incoming JSON object and store every metric that is found in the JSON object.</p>
<h3 id="cloud-persisted-cache-rest-interface">Cloud Persisted Cache REST interface</h3>
<p>You can always retrieve up to the last 100 messages for every resource over the REST calls.</p>
<h3 id="time-series-database-rest-interface">Time Series Database REST interface</h3>
<p>Waylay automatically stores metric data in the time series database. Via REST interface you can retrieve raw data or aggregated data (per interval with aggregation metrics e.g.Â avg, mean, max, stdev etc).</p>
<h3 id="resource-metadata-with-rest-interface">Resource Metadata with REST interface</h3>
<p>Provisioning API allows you to associate metadata with resource. Resources are either discovered by Waylay (as soon as data is pushed towards Waylay Broker) or you can as well create them using REST call. Next to the resource CRUD related calls, waylay also allows you to create ResourceType entities, and let you link resource to a type using metadata. As soon as a resource is linked to a resource type, all metadata values of that type are linked to that resource. Resource can still overwrite any specific attribute in its metadata model.</p>
<h2 id="sdk-and-templates-sensors-actuators-rules">SDK and Templates (sensors, actuators, rules)</h2>
<p>In waylay, sensors, actuators and rules are nothing more than small snippets of JSON files. They can be re-used between different templates. Out of the box, in PaaS offering, waylay supports only node.js based actuators and sensors (very similar approach to AWS lambda architecture). For OEM deployments, we as well provide java SDK.</p>
<h4 id="open-source">Open source</h4>
<p>There are many sensors, actuators and templates that we support out of the box. They are all open source and ready for use by all!</p>
<h2 id="rest-server">REST server</h2>
<p>Every piece of the waylay functionality is exposed over the REST interface! Among others, that includes:</p>
<ul>
<li>testing and creation of sensors, actuators and templates</li>
<li>execution of actuators and sensors</li>
<li>instantiation of tasks from templates</li>
<li>sensors/actuators/tasks and templates versioning and migration</li>
<li>real time updates of the rule engine outcomes together with realtime data (using HTML5 Server-Sent Events)</li>
</ul>
<a href="#" class="scrollup"><a href="http://docs.waylay.io/"></a></a>

</div>
        </div>
                </div>
     <footer class="text-center">

        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-xs-9 pull-right">
                        Copyright &copy; waylay.io 2015
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <script src="js/jquery-1.11.2.min.js"></script>
    <script src="js/jquery-ui-1.9.1.custom.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.tocify.min.js"></script>
    <script src="js/prettify.js"></script>
    <script src="js/tinynav.min.js"></script>
    <script src="js/freelancer.js"></script>
    <script src="js/simplemenu.js"> </script> 
</body>

</html>

